<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>elektrocillin: JackThread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">elektrocillin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>JackThread Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="JackThread" -->
<p><code>#include &lt;<a class="el" href="jackthread_8h_source.html">jackthread.h</a>&gt;</code></p>

<p><a href="class_jack_thread-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jack_thread.html#aa0112f11896777381fb0fedf28b1baf4">stop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jack_thread.html#aa5f12c8f0e7eef5311d19d9b80d5cae0">wake</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jack_thread.html#ae4a145845f0f6552edb45524c862861d">JackThread</a> (QObject *parent=0)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jack_thread.html#ad4b3134d66ac6582d4887ab20a62d77a">run</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This is a utility class to be used together with a <a class="el" href="class_jack_client.html">JackClient</a> subclass. It simplifies deferred processing, i.e. putting those processing steps into a separate thread, which cannot be put into the Jack process() function, e.g. because they involve locking etc. and thus aren't real-time capable.</p>
<p>The general idea is the following: this thread waits until <a class="el" href="class_jack_thread.html#aa5f12c8f0e7eef5311d19d9b80d5cae0">wake()</a> is called from outside (i.e., from the Jack process() function). It then calls <a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred()</a> to do any necessary processing. If done, it waits again. This is repeated until <a class="el" href="class_jack_thread.html#aa0112f11896777381fb0fedf28b1baf4">stop()</a> is called from outside (i.e., from the Jack thread, usually from the deinit() function).</p>
<p>For communication between this thread and the Jack process thread you should use <a class="el" href="class_jack_ring_buffer.html">JackRingBuffer</a>.</p>
<p>The following general procedure is recommended: 1.) Always associate a <a class="el" href="class_jack_thread.html">JackThread</a> object with a <a class="el" href="class_jack_client.html">JackClient</a> object. 2.) Initialize all necessary ring buffers for communication between the Jack thread and this thread, and be sure that both objects have access to them. For each one-way communication use one ring buffer. E.g., if you need data to be communicated between threads in BOTH ways, use TWO ring buffers. 3.) From JackClient's init() function, call JackThread's start() method. Also reset all ring buffers. 4.) In JackClient's process() function, read all data from the JackThread-&gt;<a class="el" href="class_jack_client.html">JackClient</a> ring buffers, if there is any. Write data for deferred processing to the JackClient-&gt;<a class="el" href="class_jack_thread.html">JackThread</a> ring buffers and call JackThread's <a class="el" href="class_jack_thread.html#aa5f12c8f0e7eef5311d19d9b80d5cae0">wake()</a> function. 5.) In JackThread's <a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred()</a> function, read data from the JackClient-&gt;<a class="el" href="class_jack_thread.html">JackThread</a> ring buffers and write data to the JackThread-&gt;<a class="el" href="class_jack_client.html">JackClient</a> ring buffers. You do not need to call any additional method after writing, as the Jack process() function will be called regularly to read from the ring buffers. 6.) In JackClient's deinit() function, call JackThread's <a class="el" href="class_jack_thread.html#aa0112f11896777381fb0fedf28b1baf4">stop()</a> method. After that you may want to reset the ring buffers. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae4a145845f0f6552edb45524c862861d"></a><!-- doxytag: member="JackThread::JackThread" ref="ae4a145845f0f6552edb45524c862861d" args="(QObject *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JackThread::JackThread </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a259ff4765b37fc10c31801ddc4ad62a3"></a><!-- doxytag: member="JackThread::processDeferred" ref="a259ff4765b37fc10c31801ddc4ad62a3" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void JackThread::processDeferred </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Override this method to implement deferred processing in a separate thread. </p>

</div>
</div>
<a class="anchor" id="ad4b3134d66ac6582d4887ab20a62d77a"></a><!-- doxytag: member="JackThread::run" ref="ad4b3134d66ac6582d4887ab20a62d77a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JackThread::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa0112f11896777381fb0fedf28b1baf4"></a><!-- doxytag: member="JackThread::stop" ref="aa0112f11896777381fb0fedf28b1baf4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JackThread::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a stop signal to the thread. When the thread leaves <a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred()</a> the thread is stopped. This function is blocking, i.e., it waits for the thread to finish <a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred()</a> (if it's currently running) before returning. </p>

</div>
</div>
<a class="anchor" id="aa5f12c8f0e7eef5311d19d9b80d5cae0"></a><!-- doxytag: member="JackThread::wake" ref="aa5f12c8f0e7eef5311d19d9b80d5cae0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JackThread::wake </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wakes the thread to resume processing (i.e., call <a class="el" href="class_jack_thread.html#a259ff4765b37fc10c31801ddc4ad62a3">processDeferred()</a>) or to end (if called by <a class="el" href="class_jack_thread.html#aa0112f11896777381fb0fedf28b1baf4">stop()</a>). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="jackthread_8h_source.html">jackthread.h</a></li>
<li><a class="el" href="jackthread_8cpp.html">jackthread.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Jan 27 2011 01:11:18 for elektrocillin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
